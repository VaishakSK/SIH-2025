<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Reports Management - CivicConnect Admin</title>
  <link rel="icon" type="image/png" href="/images/favicon.png" />
  <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />
  <link rel="apple-touch-icon" href="/images/favicon.png" />
  <style>
    :root{ 
      --bg-1:#0f172a; --accent:#06b6d4; --accent-2:#0ea5a4; --muted:#94a3b8; 
      --radius:14px; --shadow:0 10px 30px rgba(2,6,23,0.12);
      --success:#10b981; --warning:#f59e0b; --danger:#ef4444; --info:#3b82f6;
      --glass: rgba(255,255,255,0.65); --border: rgba(15,23,42,0.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Helvetica,Arial;background:
      radial-gradient(1200px 400px at 10% 10%, rgba(6,182,212,0.04), transparent),
      radial-gradient(800px 300px at 90% 20%, rgba(16,185,129,0.03), transparent),
      linear-gradient(180deg,#f5f7fb,#eef2f6);color:var(--bg-1)}
    .wrap{width:100vw;height:100vh;display:flex;align-items:stretch;justify-content:center;padding:20px;gap:20px;position:relative;overflow:hidden}
    
    /* Animated background orbs */
    .bg-ornaments{position:absolute;inset:0;pointer-events:none;z-index:0}
    .orb{position:absolute;filter:blur(60px);opacity:0.2;animation:float 20s ease-in-out infinite}
    .orb.one{width:300px;height:300px;background:radial-gradient(circle at 30% 30%, #67e8f9, transparent 60%);top:-100px;left:-100px}
    .orb.two{width:400px;height:400px;background:radial-gradient(circle at 70% 40%, #a7f3d0, transparent 60%);bottom:-150px;right:-150px;animation-delay:5s}
    @keyframes float{0%,100%{transform:translateY(0) translateX(0)}50%{transform:translateY(20px) translateX(-15px)}}
    
    .grid-layout{display:grid;grid-template-columns:280px 1fr;gap:22px;align-items:start;width:100%;height:100%;max-width:none;position:relative;z-index:1}
    
    /* Enhanced Sidebar */
    .sidebar{display:flex;flex-direction:column;gap:12px;padding:20px;border-radius:var(--radius);background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,255,255,0.94));box-shadow:var(--shadow);border:1px solid rgba(15,23,42,0.03);height:100%;overflow:auto;position:relative;top:0;z-index:5;backdrop-filter:blur(8px)}
    .sidebar::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--accent),var(--accent-2),var(--success))}
    
    .profile{display:flex;gap:12px;align-items:center;padding:12px;border-radius:12px;background:linear-gradient(135deg,rgba(6,182,212,0.05),rgba(14,165,164,0.05));border:1px solid rgba(6,182,212,0.1)}
    .avatar{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,#ecfeff,#dbeafe);display:flex;align-items:center;justify-content:center;font-weight:800;color:#0f172a;font-size:22px;box-shadow:0 8px 20px rgba(6,182,212,0.06);position:relative;overflow:hidden}
    .avatar::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,0.3) 50%,transparent 70%);animation:shimmer 3s ease-in-out infinite}
    @keyframes shimmer{0%,100%{opacity:0}50%{opacity:1}}
    .userMeta .name{font-weight:800;font-size:16px;background:linear-gradient(45deg,var(--accent),var(--accent-2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .userMeta .email{font-size:13px;color:var(--muted);margin-top:4px}
    .userMeta .status{font-size:11px;color:var(--success);font-weight:600;margin-top:2px;display:flex;align-items:center;gap:4px}
    .userMeta .status::before{content:"‚óè";animation:pulse 2s ease-in-out infinite}
    
    .nav{display:flex;flex-direction:column;gap:6px;margin-top:16px}
    .nav a{display:flex;align-items:center;gap:12px;padding:12px;border-radius:12px;color:var(--bg-1);text-decoration:none;font-weight:700;transition:all .3s ease;position:relative;overflow:hidden}
    .nav a::before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:linear-gradient(180deg,var(--accent),var(--accent-2));opacity:0;transition:opacity .3s ease}
    .nav a.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;box-shadow:0 8px 22px rgba(14,165,164,0.12)}
    .nav a.active::before{opacity:1}
    .nav a:hover{background:rgba(6,182,212,0.08);transform:translateX(4px)}
    .nav a:hover::before{opacity:1}
    .nav-icon{font-size:16px;width:20px;text-align:center}
    
    .small{font-size:13px;color:var(--muted);margin-top:auto;padding:12px;background:rgba(15,23,42,0.02);border-radius:8px;text-align:center}
    
    /* Enhanced Main Area */
    .main{display:flex;flex-direction:column;gap:18px;height:100%;overflow:hidden;border-radius:var(--radius)}
    .mainInner{display:flex;flex-direction:column;padding:20px;background:linear-gradient(180deg,rgba(255,255,255,0.98),#fff);box-shadow:var(--shadow);border:1px solid rgba(15,23,42,0.03);height:100%;overflow:auto;border-radius:var(--radius);position:relative}
    .mainInner::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--accent),var(--accent-2))}
    
    /* Enhanced Topbar */
    .topbar{display:flex;justify-content:space-between;align-items:center;gap:12px;position:relative;top:0;padding:16px 0;z-index:10;background:linear-gradient(180deg,rgba(255,255,255,0.98),#fff);backdrop-filter:saturate(140%) blur(6px);border-bottom:1px solid rgba(15,23,42,0.06);margin-bottom:8px}
    .title h1{margin:0;font-size:24px;font-weight:800;background:linear-gradient(45deg,var(--accent),var(--accent-2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .sub{color:var(--muted);font-size:14px;margin-top:4px}
    
    /* Logo Styles */
    .logo-container{display:flex;align-items:center;gap:12px}
    .admin-logo{width:40px;height:40px;object-fit:contain;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
    .logo-text{display:flex;flex-direction:column;gap:2px}
    
    /* Enhanced Buttons */
    .btn{padding:12px 18px;border-radius:12px;border:0;cursor:pointer;font-weight:800;font-size:14px;transition:all .3s ease;position:relative;overflow:hidden}
    .btn::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left .5s ease}
    .btn:hover::before{left:100%}
    .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;box-shadow:0 10px 30px rgba(6,182,212,0.12)}
    .btn-primary:hover{transform:translateY(-2px);box-shadow:0 15px 40px rgba(6,182,212,0.25)}
    .btn-ghost{background:transparent;border:2px solid rgba(15,23,42,0.06);color:var(--bg-1)}
    .btn-ghost:hover{background:rgba(6,182,212,0.05);border-color:var(--accent);transform:translateY(-1px)}
    .btn-danger{background:linear-gradient(90deg,var(--danger),#dc2626);color:white;box-shadow:0 8px 20px rgba(239,68,68,0.12)}
    .btn-danger:hover{transform:translateY(-2px);box-shadow:0 12px 30px rgba(239,68,68,0.25)}
    
    /* Stats Cards */
    .stats{display:grid;grid-template-columns:repeat(5,1fr);gap:16px;margin-bottom:20px}
    .stat-card{border-radius:16px;padding:20px;background:linear-gradient(180deg,rgba(255,255,255,0.95),#fff);box-shadow:0 12px 40px rgba(2,6,23,0.04);border:1px solid rgba(15,23,42,0.03);position:relative;overflow:hidden;transition:all .3s ease}
    .stat-card::before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--accent),var(--accent-2))}
    .stat-card:hover{transform:translateY(-4px);box-shadow:0 20px 50px rgba(2,6,23,0.08)}
    .stat-card .label{font-size:13px;color:var(--muted);font-weight:600;text-transform:uppercase;letter-spacing:0.5px}
    .stat-card .value{font-size:28px;font-weight:900;margin-top:8px;background:linear-gradient(45deg,var(--accent),var(--accent-2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .stat-card .trend{font-size:12px;margin-top:4px;font-weight:600;display:flex;align-items:center;gap:4px}
    .stat-card .trend.up{color:var(--success)}
    .stat-card .trend.down{color:var(--danger)}
    
    /* Search and Filter Controls */
    .controls{display:flex;gap:12px;align-items:center;margin-bottom:20px;padding:16px;background:rgba(6,182,212,0.02);border-radius:12px;border:1px solid rgba(6,182,212,0.1)}
    .search-box{flex:1;padding:12px 16px;border:2px solid rgba(15,23,42,0.06);border-radius:10px;background:white;font-size:14px;transition:all .3s ease}
    .search-box:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(6,182,212,0.1)}
    .filter-select{padding:12px 16px;border:2px solid rgba(15,23,42,0.06);border-radius:10px;background:white;font-size:14px;cursor:pointer;transition:all .3s ease}
    .filter-select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(6,182,212,0.1)}
    
    /* Enhanced Reports Grid - Maximum 5 cards per row */
    .reports-container{border-radius:16px;overflow:hidden;background:linear-gradient(180deg,rgba(255,255,255,0.98),#fff);box-shadow:0 12px 30px rgba(2,6,23,0.04);border:1px solid rgba(15,23,42,0.03)}
    .reports-header{padding:20px;border-bottom:1px solid rgba(15,23,42,0.06);background:rgba(6,182,212,0.02)}
    .reports-header h2{margin:0;font-size:20px;font-weight:800;background:linear-gradient(45deg,var(--accent),var(--accent-2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .reports-header .sub{color:var(--muted);font-size:14px;margin-top:4px}
    
    .reports-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;padding:20px}
    .report-card{position:relative;border-radius:16px;overflow:hidden;background:#fff;border:1px solid rgba(15,23,42,0.06);box-shadow:0 8px 24px rgba(2,6,23,0.06);transition:all .3s ease;cursor:pointer}
    .report-card:hover{transform:translateY(-8px);box-shadow:0 20px 40px rgba(2,6,23,0.15)}
    .report-card::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--accent),var(--accent-2));opacity:0;transition:opacity .3s ease}
    .report-card:hover::before{opacity:1}
    
    .report-image{width:100%;height:220px;object-fit:cover;display:block;transition:transform .3s ease}
    .report-card:hover .report-image{transform:scale(1.05)}
    
    .report-chip{position:absolute;top:12px;left:12px;padding:8px 12px;border-radius:20px;font-weight:700;font-size:11px;text-transform:uppercase;letter-spacing:0.5px;backdrop-filter:blur(8px)}
    .report-chip.open{background:rgba(16,185,129,0.9);color:white;box-shadow:0 4px 12px rgba(16,185,129,0.3)}
    .report-chip.in-progress{background:rgba(245,158,11,0.9);color:white;box-shadow:0 4px 12px rgba(245,158,11,0.3)}
    .report-chip.resolved{background:rgba(6,182,212,0.9);color:white;box-shadow:0 4px 12px rgba(6,182,212,0.3)}
    .report-chip.pending{background:rgba(15,23,42,0.9);color:white;box-shadow:0 4px 12px rgba(15,23,42,0.3)}
    
    .report-body{padding:20px}
    .report-meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .report-submitter{font-weight:700;font-size:14px;color:var(--bg-1)}
    .report-date{font-size:11px;color:var(--muted);font-weight:600}
    .report-location{font-size:12px;color:var(--muted);margin-bottom:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .report-actions{display:flex;gap:8px;justify-content:space-between;align-items:center}
    .action-btn{padding:8px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:700;font-size:11px;transition:all .3s ease;position:relative;overflow:hidden;text-decoration:none;display:inline-flex;align-items:center;gap:4px;flex:1;justify-content:center;min-width:0}
    .action-btn::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left .3s ease}
    .action-btn:hover::before{left:100%}
    .action-btn.view{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;box-shadow:0 4px 12px rgba(6,182,212,0.2)}
    .action-btn.view:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(6,182,212,0.3)}
    .action-btn.resolve{background:linear-gradient(90deg,var(--success),#059669);color:white;box-shadow:0 4px 12px rgba(16,185,129,0.2)}
    .action-btn.resolve:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(16,185,129,0.3)}
    .action-btn.assign{background:linear-gradient(90deg,var(--warning),#d97706);color:white;box-shadow:0 4px 12px rgba(245,158,11,0.2)}
    .action-btn.assign:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(245,158,11,0.3)}
    
    /* Pagination */
    .pagination{display:flex;gap:8px;align-items:center;justify-content:center;margin-top:20px;padding:16px;background:rgba(6,182,212,0.02);border-radius:12px;border:1px solid rgba(6,182,212,0.1)}
    .page-btn{padding:8px 12px;border:1px solid rgba(15,23,42,0.06);border-radius:8px;background:white;cursor:pointer;font-weight:700;font-size:12px;transition:all .3s ease}
    .page-btn:hover{background:rgba(6,182,212,0.05);border-color:var(--accent)}
    .page-btn.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border-color:var(--accent)}
    
    /* Bulk Actions */
    .bulk-actions{display:flex;gap:8px;align-items:center;margin-bottom:16px;padding:12px;background:rgba(6,182,212,0.02);border-radius:10px;border:1px solid rgba(6,182,212,0.1)}
    .bulk-checkbox{margin-right:8px}
    .bulk-btn{padding:8px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:700;font-size:12px;transition:all .3s ease}
    .bulk-btn.resolve{background:linear-gradient(90deg,var(--success),#059669);color:white}
    .bulk-btn.assign{background:linear-gradient(90deg,var(--warning),#d97706);color:white}
    .bulk-btn.delete{background:linear-gradient(90deg,var(--danger),#dc2626);color:white}
    
    /* Modal Styles */
    .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);backdrop-filter:blur(4px);z-index:1000;animation:fadeIn 0.3s ease}
    .modal.show{display:flex;align-items:center;justify-content:center;padding:20px}
    .modal-content{background:linear-gradient(180deg,rgba(255,255,255,0.98),#fff);border-radius:20px;box-shadow:0 25px 50px rgba(2,6,23,0.15);border:1px solid rgba(15,23,42,0.08);max-width:800px;width:100%;max-height:90vh;overflow-y:auto;position:relative;animation:slideIn 0.3s ease}
    .modal-header{padding:24px 24px 0 24px;border-bottom:1px solid rgba(15,23,42,0.06);background:rgba(6,182,212,0.02);border-radius:20px 20px 0 0}
    .modal-title{font-size:24px;font-weight:800;background:linear-gradient(45deg,var(--accent),var(--accent-2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0 0 8px 0}
    .modal-subtitle{color:var(--muted);font-size:14px;margin-bottom:16px}
    .modal-close{position:absolute;top:20px;right:20px;background:none;border:none;font-size:24px;cursor:pointer;color:var(--muted);transition:color .3s ease;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:8px}
    .modal-close:hover{color:var(--danger);background:rgba(239,68,68,0.1)}
    .modal-body{padding:24px}
    .modal-image{width:100%;height:300px;object-fit:cover;border-radius:12px;margin-bottom:20px;box-shadow:0 8px 24px rgba(2,6,23,0.1)}
    .modal-details{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:20px}
    .detail-group{background:rgba(6,182,212,0.02);padding:16px;border-radius:12px;border:1px solid rgba(6,182,212,0.1)}
    .detail-label{font-size:12px;color:var(--muted);font-weight:600;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:4px}
    .detail-value{font-size:16px;font-weight:700;color:var(--bg-1)}
    .modal-description{background:rgba(15,23,42,0.02);padding:16px;border-radius:12px;border:1px solid rgba(15,23,42,0.06);margin-bottom:20px}
    .modal-actions{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid rgba(15,23,42,0.06)}
    .modal-btn{padding:12px 20px;border-radius:10px;border:0;cursor:pointer;font-weight:700;font-size:14px;transition:all .3s ease;position:relative;overflow:hidden}
    .modal-btn::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left .3s ease}
    .modal-btn:hover::before{left:100%}
    .modal-btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;box-shadow:0 8px 20px rgba(6,182,212,0.2)}
    .modal-btn.primary:hover{transform:translateY(-2px);box-shadow:0 12px 30px rgba(6,182,212,0.3)}
    .modal-btn.success{background:linear-gradient(90deg,var(--success),#059669);color:white;box-shadow:0 8px 20px rgba(16,185,129,0.2)}
    .modal-btn.success:hover{transform:translateY(-2px);box-shadow:0 12px 30px rgba(16,185,129,0.3)}
    .modal-btn.warning{background:linear-gradient(90deg,var(--warning),#d97706);color:white;box-shadow:0 8px 20px rgba(245,158,11,0.2)}
    .modal-btn.warning:hover{transform:translateY(-2px);box-shadow:0 12px 30px rgba(245,158,11,0.3)}
    .modal-btn.secondary{background:rgba(15,23,42,0.05);color:var(--bg-1);border:1px solid rgba(15,23,42,0.1)}
    .modal-btn.secondary:hover{background:rgba(15,23,42,0.1);transform:translateY(-1px)}
    
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes slideIn{from{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}
    
    /* Footer Styles */
    .footer{background:linear-gradient(180deg,rgba(15,23,42,0.95),rgba(15,23,42,0.98));backdrop-filter:blur(12px);border-top:1px solid rgba(255,255,255,0.1);margin-top:40px;position:relative;z-index:10}
    .footer-content{display:grid;grid-template-columns:repeat(4,1fr);gap:32px;padding:40px 20px;max-width:1200px;margin:0 auto}
    .footer-section h4{color:white;font-size:18px;font-weight:800;margin:0 0 12px 0;background:linear-gradient(45deg,var(--accent),var(--accent-2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .footer-section h5{color:white;font-size:14px;font-weight:700;margin:0 0 16px 0;text-transform:uppercase;letter-spacing:0.5px}
    .footer-section p{color:var(--muted);font-size:14px;margin:0 0 16px 0;line-height:1.5}
    .social-links{display:flex;gap:12px}
    .social-link{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px;background:rgba(255,255,255,0.1);color:white;text-decoration:none;font-size:16px;transition:all .3s ease;border:1px solid rgba(255,255,255,0.1)}
    .social-link:hover{background:rgba(6,182,212,0.2);border-color:var(--accent);transform:translateY(-2px)}
    .footer-links{list-style:none;padding:0;margin:0}
    .footer-links li{margin-bottom:8px}
    .footer-links a{color:var(--muted);text-decoration:none;font-size:14px;transition:color .3s ease}
    .footer-links a:hover{color:var(--accent)}
    .system-info{display:flex;flex-direction:column;gap:8px}
    .info-item{display:flex;justify-content:space-between;align-items:center;padding:6px 0}
    .info-item .label{color:var(--muted);font-size:12px;font-weight:600}
    .info-item .value{color:white;font-size:12px;font-weight:700}
    .info-item .value.online{color:var(--success)}
    .footer-bottom{background:rgba(0,0,0,0.2);border-top:1px solid rgba(255,255,255,0.05);padding:20px}
    .footer-bottom-content{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:0 20px}
    .footer-bottom p{color:var(--muted);font-size:12px;margin:0}
    .footer-bottom-links{display:flex;gap:20px}
    .footer-bottom-links a{color:var(--muted);text-decoration:none;font-size:12px;transition:color .3s ease}
    .footer-bottom-links a:hover{color:var(--accent)}
    
    /* Responsive Design */
    @media (max-width:1200px){
      .grid-layout{grid-template-columns:240px 1fr;gap:16px}
      .reports-grid{grid-template-columns:repeat(2,1fr)}
      .stats{grid-template-columns:repeat(3,1fr)}
    }
    
    @media (max-width:900px){
      .reports-grid{grid-template-columns:repeat(2,1fr)}
      .stats{grid-template-columns:repeat(2,1fr)}
    }
    
    @media (max-width:768px){
      .grid-layout{grid-template-columns:1fr;gap:12px}
      .sidebar{position:static;height:auto}
      .reports-grid{grid-template-columns:1fr}
      .stats{grid-template-columns:1fr}
      .controls{flex-direction:column;align-items:stretch}
      .bulk-actions{flex-direction:column;align-items:stretch}
      .modal-content{max-width:95%;margin:10px}
      .modal-details{grid-template-columns:1fr}
      .modal-actions{flex-direction:column;gap:8px}
      .modal-btn{width:100%}
      .footer-content{grid-template-columns:repeat(2,1fr);gap:24px;padding:32px 20px}
      .footer-bottom-content{flex-direction:column;gap:12px;text-align:center}
      .footer-bottom-links{justify-content:center}
    }
    @media (max-width:480px){
      .footer-content{grid-template-columns:1fr;gap:20px;padding:24px 16px}
      .footer-section{text-align:center}
      .social-links{justify-content:center}
    }
    
    @media (prefers-reduced-motion:reduce){
      .orb, .avatar::before{animation:none}
      .btn, .stat-card, .report-card, .action-btn{transition:none}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Animated Background Ornaments -->
    <div class="bg-ornaments">
      <div class="orb one"></div>
      <div class="orb two"></div>
    </div>
    
    <div class="grid-layout">
      <aside class="sidebar">
        <div class="profile">
          <div class="avatar">A</div>
          <div class="userMeta">
            <div class="name">Admin</div>
            <div class="email">System Administrator</div>
            <div class="status">Online</div>
          </div>
        </div>
        <nav class="nav">
          <a href="/admin">
            <span class="nav-icon">üìä</span>
            <span>Overview</span>
          </a>
          <a href="/admin/users">
            <span class="nav-icon">üë•</span>
            <span>Users</span>
          </a>
          <a href="/admin/reports" class="active">
            <span class="nav-icon">üìã</span>
            <span>Reports</span>
          </a>
          <a href="/admin/settings">
            <span class="nav-icon">‚öôÔ∏è</span>
            <span>Settings</span>
          </a>
        </nav>
        <div class="small">CivicConnect Admin v2.1</div>
      </aside>

      <main class="main">
        <div class="mainInner">
          <div class="topbar">
            <div class="title">
              <div class="logo-container">
                <img src="/images/logo-mainpage.png" alt="CivicConnect Logo" class="admin-logo">
                <div class="logo-text">
                  <h1>Reports Management</h1>
                  <div class="sub">Monitor and manage civic issue reports</div>
                </div>
              </div>
            </div>
            <div style="display:flex;gap:12px;align-items:center">
              <button class="btn btn-primary" onclick="location.href='/admin'">üìä Dashboard</button>
              <button class="btn btn-danger" onclick="location.href='/admin/logout'">üö™ Logout</button>
            </div>
          </div>

          <div class="afterTopbar">
            <!-- Stats Cards -->
            <section class="stats">
              <div class="stat-card">
                <div class="label">Total Reports</div>
                <div class="value">{{reportsCount}}</div>
                <div class="trend up">‚Üó +8% this week</div>
              </div>
              <div class="stat-card">
                <div class="label">Open Issues</div>
                <div class="value">{{openCount}}</div>
                <div class="trend down">‚Üò -5% today</div>
              </div>
              <div class="stat-card">
                <div class="label">In Progress</div>
                <div class="value">{{inProgressCount}}</div>
                <div class="trend up">‚Üó +12% today</div>
              </div>
              <div class="stat-card">
                <div class="label">Resolved</div>
                <div class="value">{{resolvedCount}}</div>
                <div class="trend up">‚Üó +15% this week</div>
              </div>
              <div class="stat-card">
                <div class="label">Avg Response</div>
                <div class="value">2.4h</div>
                <div class="trend down">‚Üò -0.3h today</div>
              </div>
            </section>

            <!-- Search and Filter Controls -->
            <div class="controls">
              <input type="text" class="search-box" placeholder="üîç Search reports by ID, submitter, or location..." id="searchInput">
              <select class="filter-select" id="statusFilter">
                <option value="">All Status</option>
                <option value="open">Open</option>
                <option value="in-progress">In Progress</option>
                <option value="resolved">Resolved</option>
                <option value="pending">Pending</option>
              </select>
              <select class="filter-select" id="priorityFilter">
                <option value="">All Priority</option>
                <option value="high">High</option>
                <option value="medium">Medium</option>
                <option value="low">Low</option>
              </select>
              <button class="btn btn-primary" onclick="exportReports()">üìä Export</button>
            </div>

            <!-- Bulk Actions -->
            <div class="bulk-actions">
              <input type="checkbox" class="bulk-checkbox" id="selectAll" onchange="toggleSelectAll()">
              <span style="font-weight:600;color:var(--bg-1)">Select All</span>
              <button class="bulk-btn resolve" onclick="bulkAction('resolve')">‚úÖ Resolve Selected</button>
              <button class="bulk-btn assign" onclick="bulkAction('assign')">üë§ Assign Selected</button>
              <button class="bulk-btn delete" onclick="bulkAction('delete')">üóëÔ∏è Delete Selected</button>
            </div>

            <!-- Enhanced Reports Grid -->
            <div class="reports-container">
              <div class="reports-header">
                <h2>Issue Reports</h2>
                <div class="sub">Complete list of civic issue reports with management controls</div>
              </div>
              <div class="reports-grid" id="reportsGrid">
                {{#if recentReports}}
                  {{#each recentReports}}
                    <div class="report-card" data-status="{{#if this.status}}{{this.status}}{{else}}pending{{/if}}" data-priority="{{#if this.priority}}{{this.priority}}{{else}}medium{{/if}}">
                      <input type="checkbox" class="report-checkbox" style="position:absolute;top:8px;right:8px;z-index:10" data-report-id="{{#if this._id}}{{this._id}}{{else if this.reportId}}{{this.reportId}}{{else}}{{this.ticket}}{{/if}}">
                      <span class="report-chip {{#if this.status}}{{this.status}}{{else}}pending{{/if}}">
                        {{#if this.status}}{{this.status}}{{else}}pending{{/if}}
                      </span>
                      {{#if this.isSample}}
                        <img src="{{imageSrc this.imagePath this.imageUrl this.photo}}" alt="report" class="report-image" onerror="this.onerror=null;this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjM0MCIgdmlld0JveD0iMCAwIDYwMCAzNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iMzQwIiBmaWxsPSIjMDZiNmQ0Ii8+Cjx0ZXh0IHg9IjMwMCIgeT0iMTcwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iNDgiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7wn5K3PC90ZXh0Pgo8L3N2Zz4K'"/>
                      {{else}}
                        <img src="{{imageSrc this.imagePath this.imageUrl this.photo}}" alt="report" class="report-image"/>
                      {{/if}}
                      <div class="report-body">
                        <div class="report-meta">
                          <div class="report-submitter">
                            {{#if this.firstName}}{{this.firstName}}
                            {{else}}
                              {{#if this.name}}{{this.name}}
                              {{else}}
                                {{#if this.user}}
                                  {{#if this.user.firstName}}{{this.user.firstName}}{{else}}{{this.user}}{{/if}}
                                {{else}}Unknown{{/if}}
                              {{/if}}
                            {{/if}}
                          </div>
                          <div class="report-date">{{formatDate this.createdAt}}</div>
                        </div>
                        <div class="report-location">
                          {{#if this.locationText}}{{this.locationText}}{{else if this.address}}{{this.address}}{{else if this.location}}{{this.location}}{{else}}Location unavailable{{/if}}
                        </div>
                        <div class="report-actions">
                          <a href="/admin/reports/{{#if this._id}}{{this._id}}{{else if this.reportId}}{{this.reportId}}{{else}}{{this.ticket}}{{/if}}" class="action-btn view">üëÅÔ∏è View</a>
                          <button class="action-btn resolve" onclick="resolveReport('{{#if this._id}}{{this._id}}{{else if this.reportId}}{{this.reportId}}{{else}}{{this.ticket}}{{/if}}')">‚úÖ Resolve</button>
                          <button class="action-btn assign" onclick="assignReport('{{#if this._id}}{{this._id}}{{else if this.reportId}}{{this.reportId}}{{else}}{{this.ticket}}{{/if}}')">üë§ Assign</button>
                        </div>
                      </div>
                    </div>
                  {{/each}}
                {{else}}
                  <div style="grid-column:1/-1;text-align:center;padding:40px;color:var(--muted)">
                    <div style="font-size:48px;margin-bottom:16px">üìã</div>
                    <div style="font-size:18px;font-weight:600;margin-bottom:8px">No reports found</div>
                    <div>No civic issue reports have been submitted yet.</div>
                  </div>
                {{/if}}
              </div>
            </div>

            <!-- Pagination -->
            <div class="pagination">
              <button class="page-btn" onclick="changePage(-1)">‚Üê Previous</button>
              <button class="page-btn active">1</button>
              <button class="page-btn">2</button>
              <button class="page-btn">3</button>
              <button class="page-btn">4</button>
              <button class="page-btn">5</button>
              <button class="page-btn" onclick="changePage(1)">Next ‚Üí</button>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
  
  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h4>CivicConnect Admin</h4>
        <p>Empowering civic engagement through technology</p>
        <div class="social-links">
          <a href="#" class="social-link">üìß</a>
          <a href="#" class="social-link">üì±</a>
          <a href="#" class="social-link">üåê</a>
        </div>
      </div>
      <div class="footer-section">
        <h5>Quick Links</h5>
        <ul class="footer-links">
          <li><a href="/admin">Dashboard</a></li>
          <li><a href="/admin/reports">Reports</a></li>
          <li><a href="/admin/users">Users</a></li>
          <li><a href="/admin/settings">Settings</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h5>Support</h5>
        <ul class="footer-links">
          <li><a href="#">Documentation</a></li>
          <li><a href="#">Help Center</a></li>
          <li><a href="#">Contact Support</a></li>
          <li><a href="#">System Status</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h5>System Info</h5>
        <div class="system-info">
          <div class="info-item">
            <span class="label">Version:</span>
            <span class="value">v2.1.0</span>
          </div>
          <div class="info-item">
            <span class="label">Status:</span>
            <span class="value online">‚óè Online</span>
          </div>
          <div class="info-item">
            <span class="label">Last Updated:</span>
            <span class="value">{{formatDate new Date}}</span>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="footer-bottom-content">
        <p>&copy; 2024 CivicConnect. All rights reserved.</p>
        <div class="footer-bottom-links">
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
          <a href="#">Cookie Policy</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Report Detail Modal -->
  <div id="reportModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <button class="modal-close" onclick="closeModal()">&times;</button>
        <h2 class="modal-title" id="modalTitle">Report Details</h2>
        <div class="modal-subtitle" id="modalSubtitle">Issue Report Information</div>
      </div>
      <div class="modal-body">
        <img id="modalImage" class="modal-image" src="" alt="Report Image">
        <div class="modal-details">
          <div class="detail-group">
            <div class="detail-label">Report ID</div>
            <div class="detail-value" id="modalReportId">-</div>
          </div>
          <div class="detail-group">
            <div class="detail-label">Status</div>
            <div class="detail-value" id="modalStatus">-</div>
          </div>
          <div class="detail-group">
            <div class="detail-label">Submitted By</div>
            <div class="detail-value" id="modalSubmitter">-</div>
          </div>
          <div class="detail-group">
            <div class="detail-label">Date Submitted</div>
            <div class="detail-value" id="modalDate">-</div>
          </div>
          <div class="detail-group">
            <div class="detail-label">Location</div>
            <div class="detail-value" id="modalLocation">-</div>
          </div>
          <div class="detail-group">
            <div class="detail-label">Priority</div>
            <div class="detail-value" id="modalPriority">-</div>
          </div>
        </div>
        <div class="modal-description">
          <div class="detail-label">Description</div>
          <div class="detail-value" id="modalDescription">No description available for this report.</div>
        </div>
        <div class="modal-actions">
          <button class="modal-btn secondary" onclick="closeModal()">Close</button>
          <button class="modal-btn warning" onclick="assignFromModal()">üë§ Assign</button>
          <button class="modal-btn success" onclick="resolveFromModal()">‚úÖ Resolve</button>
          <button class="modal-btn primary" onclick="viewFullReport()">üìÑ Full Report</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Search functionality
    document.getElementById('searchInput').addEventListener('input', function(e) {
      const searchTerm = e.target.value.toLowerCase();
      const cards = document.querySelectorAll('.report-card');
      
      cards.forEach(card => {
        const text = card.textContent.toLowerCase();
        if (text.includes(searchTerm)) {
          card.style.display = '';
        } else {
          card.style.display = 'none';
        }
      });
    });

    // Filter functionality
    document.getElementById('statusFilter').addEventListener('change', function(e) {
      filterReports();
    });

    document.getElementById('priorityFilter').addEventListener('change', function(e) {
      filterReports();
    });

    function filterReports() {
      const statusFilter = document.getElementById('statusFilter').value;
      const priorityFilter = document.getElementById('priorityFilter').value;
      const cards = document.querySelectorAll('.report-card');
      
      cards.forEach(card => {
        const status = card.dataset.status;
        const priority = card.dataset.priority;
        
        let showCard = true;
        
        if (statusFilter && status !== statusFilter) showCard = false;
        if (priorityFilter && priority !== priorityFilter) showCard = false;
        
        card.style.display = showCard ? '' : 'none';
      });
    }

    // Bulk actions
    function toggleSelectAll() {
      const selectAll = document.getElementById('selectAll');
      const checkboxes = document.querySelectorAll('.report-checkbox');
      
      checkboxes.forEach(checkbox => {
        checkbox.checked = selectAll.checked;
      });
    }

    function bulkAction(action) {
      const selectedReports = Array.from(document.querySelectorAll('.report-checkbox:checked')).map(cb => cb.dataset.reportId);
      
      if (selectedReports.length === 0) {
        showNotification('Please select at least one report', 'warning');
        return;
      }
      
      showNotification(`${action} action applied to ${selectedReports.length} reports`, 'success');
      
      // In a real application, this would make API calls
      selectedReports.forEach(reportId => {
        console.log(`${action} report:`, reportId);
      });
    }

    // Individual report actions
    function resolveReport(reportId) {
      if (confirm('Are you sure you want to resolve this report?')) {
        showNotification(`Report ${reportId} resolved successfully`, 'success');
        // In a real application, this would make an API call
      }
    }

    function assignReport(reportId) {
      const assignee = prompt('Enter assignee name:');
      if (assignee) {
        showNotification(`Report ${reportId} assigned to ${assignee}`, 'success');
        // In a real application, this would make an API call
      }
    }

    // Export functionality
    function exportReports() {
      const reports = [];
      const cards = document.querySelectorAll('.report-card:not([style*="display: none"])');
      
      cards.forEach(card => {
        const checkbox = card.querySelector('.report-checkbox');
        if (checkbox) {
          reports.push({
            id: checkbox.dataset.reportId,
            status: card.dataset.status,
            priority: card.dataset.priority,
            submitter: card.querySelector('.report-submitter').textContent,
            date: card.querySelector('.report-date').textContent,
            location: card.querySelector('.report-location').textContent
          });
        }
      });
      
      const blob = new Blob([JSON.stringify(reports, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `civicconnect-reports-${new Date().toISOString().split('T')[0]}.json`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showNotification('Reports exported successfully!', 'success');
    }

    // Pagination
    function changePage(direction) {
      showNotification('Pagination feature coming soon!', 'info');
    }

    // Notification system
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed; top: 20px; right: 20px; z-index: 1000;
        padding: 12px 20px; border-radius: 8px; color: white;
        font-weight: 600; box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        background: ${type === 'success' ? '#10b981' : type === 'warning' ? '#f59e0b' : '#3b82f6'};
        animation: slideIn 0.3s ease-out;
      `;
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease-in';
        setTimeout(() => document.body.removeChild(notification), 300);
      }, 3000);
    }

    // Add CSS for notifications
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
      }
    `;
    document.head.appendChild(style);

    // Modal functionality
    let currentReportId = null;

    // Make cards clickable
    document.addEventListener('DOMContentLoaded', function() {
      const cards = document.querySelectorAll('.report-card');
      cards.forEach(card => {
        card.addEventListener('click', function(e) {
          // Don't trigger if clicking on buttons or checkboxes
          if (e.target.closest('.action-btn') || e.target.closest('.report-checkbox')) {
            return;
          }
          
          const reportId = card.querySelector('.report-checkbox').dataset.reportId;
          const status = card.dataset.status;
          const submitter = card.querySelector('.report-submitter').textContent;
          const date = card.querySelector('.report-date').textContent;
          const location = card.querySelector('.report-location').textContent;
          const image = card.querySelector('.report-image').src;
          
          openReportModal({
            id: reportId,
            status: status,
            submitter: submitter,
            date: date,
            location: location,
            image: image
          });
        });
      });
    });

    function openReportModal(reportData) {
      currentReportId = reportData.id;
      
      // Populate modal with data
      document.getElementById('modalTitle').textContent = `Report #${reportData.id}`;
      document.getElementById('modalSubtitle').textContent = `Submitted by ${reportData.submitter}`;
      document.getElementById('modalReportId').textContent = reportData.id;
      document.getElementById('modalStatus').textContent = reportData.status.toUpperCase();
      document.getElementById('modalSubmitter').textContent = reportData.submitter;
      document.getElementById('modalDate').textContent = reportData.date;
      document.getElementById('modalLocation').textContent = reportData.location;
      document.getElementById('modalPriority').textContent = 'Medium'; // Default priority
      document.getElementById('modalImage').src = reportData.image;
      document.getElementById('modalImage').onerror = function() {
        this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDYwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjMDZiNmQ0Ii8+Cjx0ZXh0IHg9IjMwMCIgeT0iMTUwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iNDgiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7wn5K3PC90ZXh0Pgo8L3N2Zz4K';
      };
      
      // Show modal
      document.getElementById('reportModal').classList.add('show');
      document.body.style.overflow = 'hidden'; // Prevent background scrolling
    }

    function closeModal() {
      document.getElementById('reportModal').classList.remove('show');
      document.body.style.overflow = ''; // Restore scrolling
      currentReportId = null;
    }

    function assignFromModal() {
      const assignee = prompt('Enter assignee name:');
      if (assignee) {
        showNotification(`Report ${currentReportId} assigned to ${assignee}`, 'success');
        closeModal();
      }
    }

    function resolveFromModal() {
      if (confirm('Are you sure you want to resolve this report?')) {
        showNotification(`Report ${currentReportId} resolved successfully`, 'success');
        closeModal();
      }
    }

    function viewFullReport() {
      showNotification('Opening full report page...', 'info');
      window.open(`/admin/reports/${currentReportId}`, '_blank');
    }

    // Close modal when clicking outside
    document.getElementById('reportModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeModal();
      }
    });

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && document.getElementById('reportModal').classList.contains('show')) {
        closeModal();
      }
    });

    // Real-time updates simulation
    setInterval(() => {
      // Simulate status changes
      const chips = document.querySelectorAll('.report-chip');
      chips.forEach(chip => {
        if (Math.random() > 0.98) {
          const statuses = ['open', 'in-progress', 'resolved'];
          const newStatus = statuses[Math.floor(Math.random() * statuses.length)];
          chip.className = `report-chip ${newStatus}`;
          chip.textContent = newStatus;
        }
      });
    }, 10000);
  </script>
</body>
</html>
